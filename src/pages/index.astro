---
import { getSession } from "auth-astro";
import { SignIn, SignOut } from "auth-astro/components";
import { PrismaClient } from "@prisma/client";
import { authOpts } from "./api/auth/[...astroauth]";
import Layout from "../layouts/Layout.astro";

const session = await getSession(Astro.request, authOpts);

const prisma = new PrismaClient();
const sorteios = await prisma.sorteioGrupoTeste.findMany();

const sorteioTipos = [
	{
		nome: "Sorteio de números",
		descricao:
			"Sorteio de números que permite que o organizador escolha uma quantidade entre um intervalo de números para sortear!",
	},
	{
		nome: "Sorteio de nomes",
		descricao:
			"Preencha uma lista de nomes e escolha a quantidade de nomes que deverão ser sorteados desta lista!",
	},
] as const;
---

<Layout pageTitle="Roleta" session={session}>
	<div class="sorteio-tipos">
		{
			sorteioTipos.map((tipo) => (
				<a href="/">
					<div class="sorteio-tipo">
						<h2>{tipo.nome}</h2>

						<p>{tipo.descricao}</p>
					</div>
				</a>
			))
		}
	</div>
</Layout>

<style>
	.sorteio-tipos {
		display: flex;
		flex-direction: row;
		justify-content: center;
		gap: 10px;
	}

	.sorteio-tipo {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;

		width: 300px;
		height: 200px;
		border: 1px solid dimgray;
		border-radius: 10px;
		padding: 10px;

		text-align: center;
	}

	.sorteio-tipo:hover {
		background-color: ghostwhite;
	}

	.sorteio-tipos a {
		text-decoration: none;
		color: black;
	}
</style>
